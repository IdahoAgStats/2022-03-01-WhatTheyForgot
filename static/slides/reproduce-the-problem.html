<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Reproduce the Problem</title>
    <meta charset="utf-8" />
    <meta name="author" content="Julia Piaskowski" />
    <meta name="date" content="2022-03-08" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Reproduce the Problem
## âš”<br/>using reprex
### Julia Piaskowski
### 2022-03-08

---




class: center, middle

## How to ask for help  
 
&lt;br&gt; &lt;br&gt;  
*the coding error*  
*unsolvable mystery*  
*make it simple, friend*  

---
# Getting Help (again)

Eventually, you will probably need outside help to solve a programming problem. 
&lt;br&gt;  
lotsa skilled people: Stack Overflow, R4DS, RStudio Community, that other grad student who knows everything,...
&lt;br&gt;   
You are asking them to help you, but in order for them to do that, they need to understand your problem.

---
# reprex = Reproducible example

  = minimum version of what you are doing in R that is generating an error

![lion and cub](images/lion_and_cub.jpg)

---
# Good reproducible example

1. use smallest, simplest data set. Preferably a built-in data set (e.g. iris or cars, yawn).  
1. If you have to create a data set, keep it small, keep it simple. 
  * minimum size (e.g. number of rows), minimum variables
  * enough information to replicate your situation - at least, the situation that is creating a problem

&lt;center&gt; Remember, the goal is to recreate your problem! &lt;/center&gt;

---
# Tools to create a minimal data set

* `data.frame()`, `matrix()`, `list()` and other base R functions
* if you simulate new data through a random process, use `set.seed()`. 


```r
set.seed(208)
my_df &lt;- data.frame(x1 = c(1, 2, 3, 4),
                    x2 = c("a", "a", "b", "b"),
                    x3 = rnorm(4))
my_df
```

```
##   x1 x2         x3
## 1  1  a  0.3398108
## 2  2  a  1.7201904
## 3  3  b  0.2312531
## 4  4  b -1.0609545
```
--

**mini-exercise:** make a `data.frame` with at least 2 variables and 5 rows. 

---
# Tools to create a minimal data set

* find those data sets! Use `data()`, `data(package = "dplyr")` or search the documentation (data sets are listed). 

*(no point in running these in an Rmarkdown document)*   

-- 
**mini-exercise:** find a data set from a tidyverse package you've never used before and examine it. How big is it? What type of variables are present? 

---
# Tools to create a minimal data set

* the package **[datapasta](https://milesmcbain.github.io/datapasta/index.html)**


```r
library(datapasta); library(dplyr)
```

Format a table to R code and put it on the clipboard

```r
iris %&gt;% head() %&gt;% df_format() 
```
[CTRL + V]

Pull part of table into R-formatted syntax: 

```r
# first, copy part of a table
# next type either line in the console and run
tribble_paste()
df_paste()
```

---
class: center, middle, inverse

# [exercise](exercises/exercise-8.html)

---
# Narrow down the problem:

* DON'T provide a long description of why you want to do something, "We plan to save the world by comparing storm drainage rates..."
* DON'T dump a long R script with the single descriptor "it didn't work"  
* Screenshots usually are not helpful
* DO find the line of code where it all breaks down (this does not mean digging into the source code - find the error in *your* code)  
* DO include all lines of code needed to recreate the problem - including libraries that must be loaded 
* DON'T run load meta-library like `library(tidyverse)` - only load the packages needed to recreate the problem
* DO &lt;mark&gt;ruthlessly&lt;/mark&gt; strip out every bit of unneeded code, any extra lines, extraneous arguments that can be ignored while the error persists

---
# Be considerate of your anonymous helpers

.pull-left[
&lt;img src="images/kind_rewind.jpg" width="840" /&gt;
]

.pull-right[
* no `rm = list(ls())` since it is running on someone else's system
* no setwd("to/my/computer")
* if your code changes systems systems (e.g. `par(...)`, make sure you reset it
* don't mask built-in functions (e.g. `mean()`)  with your own custom functions
]

---
# Last step: using `reprex()`

* **reprex** is a package supporting how to generate reproducible examples. 
* like **datapasta**, it can make your life easier

Copy: 

```r
x&lt;- 1:10
plot(x)
```

Run:

```r
reprex::reprex()
```

Paste your clipboard where you are seeking help (e.g. [GitHub issue](https://github.com/IdahoAgStats/what-they-forgot-202203/issues), Stack Overflow Question)

---
# Example: Let's Write a Reprex!

![](images/need_reprex.png)

---
class: middle, center, inverse

# [exercise](exercises/exercise-9.html)

---
# Use good style  

### (it's easier to read)   

1. There is no cap on white space usage

```r
myfunc&lt;-onebigfunc(mydf,arg=1,arg2=TRUE,arg4="Go")
more&lt;-evenmore(myfunc,argA=c("Idaho","Montana","Utah"))
if(condition){dothis}
else{dothat}
```
1. pay attention to function examples in documentation for code styling 
1. there's actually a [code guide!](https://style.tidyverse.org/syntax.html) and a package, [styler](https://styler.r-lib.org/) to support this. 

Tip: &lt;mark&gt;CTRL + Shift + a&lt;/mark&gt; will reformat things. 

---
# The Good, The Bad and the Weird

* Creating a good reprex is **a lot** of work!
* If you want to elicit feedback to solve your problem, this is how to do that. 
* Very frequently, the process of creating a reprex will reveal an error, a mistaken assumption, or something that will help you resolve the problem! 

---
# Guides for creating a good reprex

* [Stack Overflow](https://stackoverflow.com/help/minimal-reproducible-example)
* [Rstudio Community](https://community.rstudio.com/t/faq-how-to-do-a-minimal-reproducible-example-reprex-for-beginners/23061)
* [Reprex Do's and Don'ts](https://reprex.tidyverse.org/articles/reprex-dos-and-donts.html)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

  </body>
</html>
